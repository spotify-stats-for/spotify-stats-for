<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Wa偶ne pytanie! わ</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Pacifico&display=swap" rel="stylesheet">

    <style>
        /* Stylizacja og贸lna */
        body {
            font-family: 'Pacifico', cursive;
            background-color: #ffe6e6; /* Jasny r贸偶 */
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 10px;
            overflow: hidden; /* Blokada przewijania */
            transition: background-image 1s ease-in-out;
        }

        #container {
            position: relative;
            z-index: 10;
            width: 100%;
            max-width: 600px;
        }

        h1 {
            color: #d63384; /* Ciemny r贸偶 */
            font-size: clamp(2rem, 6vw, 3.5rem); /* Skalowanie czcionki */
            margin-bottom: 20px;
            text-shadow: 2px 2px 0px rgba(255, 255, 255, 0.5);
            line-height: 1.2;
            padding: 0 10px;
        }

        img {
            width: 80%;
            max-width: 350px;
            height: auto;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            object-fit: cover;
            border: 5px solid white;
        }

        .buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            width: 100%;
            position: relative;
        }

        button {
            font-family: 'Dancing Script', cursive;
            font-size: 1.5rem;
            padding: 12px 30px;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            font-weight: bold;
            -webkit-tap-highlight-color: transparent;
            box-sizing: border-box;
        }

        #yesBtn {
            background-color: #ff4d6d;
            color: white;
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.4);
            z-index: 50; /* Zawsze na wierzchu */
            white-space: nowrap; /* Tekst w jednej linii */
        }

        #noBtn {
            background-color: #fff;
            color: #ff4d6d;
            border: 2px solid #ff4d6d;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        #extraText {
            color: #6c757d;
            font-size: 1.2rem;
            min-height: 1.5em;
            font-weight: bold;
            margin-top: 25px;
            padding: 0 15px;
        }

        /* Klasa dodawana po zgodzie - fajerwerki */
        .fireworks-bg {
            background-image: url('https://media.giphy.com/media/26tOZ42Mg6pbTUPVS/giphy.gif');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
        }
        
        /* Ukryta ramka do cichego wysyania formularza */
        #hiddenFrame {
            display: none;
            width: 0; 
            height: 0;
        }
    </style>
</head>
<body>

    <div id="container">
        <h1 id="mainQuestion">Zostaniesz moj walentynk?</h1>
        
        <img id="mainImage" src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif" alt="Sodki kotek">
        
        <div class="buttons">
            <button id="yesBtn" onclick="handleYes()">Tak</button>
            <button id="noBtn" onclick="handleNo()">Nie</button>
        </div>

        <p id="extraText"></p>
    </div>

    <iframe name="hiddenFrame" id="hiddenFrame"></iframe>

    <script>
        // --- KONFIGURACJA FORMULARZA ---
        // Wycignem ID z Twojego linku: entry.1965106548
        const GOOGLE_FORM_ID = "1FAIpQLSe9MH7hVkXIIVXN0__H-EqvO3czwqOmydGc28rUb6bmSFLrHQ";
        const ENTRY_ID = "entry.1965106548";
        // -------------------------------

        let noClickCount = 0;
        let attempts = 1;
        
        const noTexts = [
            "Na pewno? ズ", 
            "Zastan贸w si jeszcze raz...", 
            "Bdzie fajnie, obiecuj!", 
            "amiesz mi serduszko! ", 
            "Kotek bdzie paka...",
            "Nie r贸b mi tego...",
            "Ju偶 nie masz wyjcia! "
        ];

        function handleNo() {
            noClickCount++;
            attempts++;
            
            // 1. Zmiana tekstu pod przyciskami
            const textIndex = (noClickCount - 1) % noTexts.length;
            document.getElementById('extraText').innerText = noTexts[textIndex];

            // 2. Logika powikszania przycisku TAK
            const yesBtn = document.getElementById('yesBtn');
            
            if (noClickCount <= 5) {
                // Faza wzrostu
                let scale = 1 + (noClickCount * 0.4); 
                yesBtn.style.transform = `scale(${scale})`;
                // Przesuwamy marginesy, 偶eby przyciski na siebie nie wchodziy
                yesBtn.style.marginRight = `${noClickCount * 15}px`;
            } else {
                // Faza: NIE MASZ WYJCIA (Peny ekran)
                yesBtn.style.position = "fixed";
                yesBtn.style.top = "0";
                yesBtn.style.left = "0";
                yesBtn.style.width = "100vw";
                yesBtn.style.height = "100vh";
                yesBtn.style.transform = "scale(1)"; // Reset skali, ustawiamy na sztywno
                yesBtn.style.borderRadius = "0";
                yesBtn.style.margin = "0";
                yesBtn.style.display = "flex";
                yesBtn.style.alignItems = "center";
                yesBtn.style.justifyContent = "center";
                
                // Zajebista, wielka czcionka, ale dopasowana do szerokoci ekranu (vw)
                yesBtn.style.fontSize = "12vw"; 
                yesBtn.innerText = "TAK (Musisz!) わ";
                
                // Ukrywamy przycisk NIE
                document.getElementById('noBtn').style.display = 'none';
                document.getElementById('extraText').innerText = "";
            }
        }

        function handleYes() {
            // 1. ZMIANA WYGLDU (SUKCES)
            document.body.classList.add('fireworks-bg');
            document.getElementById('mainQuestion').innerText = "Zostaa moj walentynk! ";
            
            // Zmiana GIFa na tulce si kotki
            document.getElementById('mainImage').src = "https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOTVlYzl4M2V4Y2E4OW44b3V4eW44b3V4eW44b3V4eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/MDJ9IbxxvDUQM/giphy.gif"; 
            
            // Czyszczenie interfejsu
            document.getElementById('extraText').innerText = "";
            document.querySelector('.buttons').style.display = 'none';
            document.querySelector('.buttons').innerHTML = ""; // Usunicie przycisk贸w z DOM

            // 2. WYSYANIE DANYCH DO GOOGLE FORMS
            sendToGoogleSheets(attempts);
        }

        function sendToGoogleSheets(count) {
            // Budowanie wiadomoci
            const message = `Zgodzia si za ${count} razem`;
            
            // Konstrukcja linku, kt贸ry "wysya" formularz bez otwierania go
            // U偶ywamy endpointu 'formResponse'
            let submitUrl = `https://docs.google.com/forms/d/e/${GOOGLE_FORM_ID}/formResponse?usp=pp_url&${ENTRY_ID}=${encodeURIComponent(message)}&submit=Submit`;

            // Zaadowanie tego linku w ukrytej ramce
            document.getElementById('hiddenFrame').src = submitUrl;
            
            console.log("Wysano informacj: " + message);
        }
    </script>
</body>
</html>
